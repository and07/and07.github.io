<!-- http://cturt.github.io/ -->
<!DOCTYPE html>
<html lang="en">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0">
		<link rel="stylesheet" type="text/css" href="../../css/core.css" />
		<!--<link rel="stylesheet" type="text/css" href="css/application.css" />-->
        
        <link rel="stylesheet" href="https://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
        <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
        <script src="https://code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
        <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/highlight.js/9.0.0/styles/default.min.css"> -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/highlight.js/9.0.0/styles/railscasts.min.css">
        <script src="https://cdn.jsdelivr.net/highlight.js/9.0.0/highlight.min.js"></script>
        
		<title>Algorithms Javascript</title>
	</head>
	
	<body>
		<div class="page">
			<div class="container">
				<div class="header">
					<a href="/other.html" class="header-element">
						Other
					</a>
					
					<a href="/index.html" class="header-element">
						Home
					</a>
				</div>
				<h1>Algorithms</h1>
				<hr>
				<ul>
					<li><a href="#alg01">binarySearch</a></li>
					<li><a href="#alg02">SubstringSearch</a></li>
					<li><a href="#alg03">quickSortR</a></li>
					<li><a href="#alg04">InsertionSort</a></li>
					<li><a href="#alg05">HeapSort</a></li>
					<li><a href="#alg001">BM</a></li>
					<li><a href="#alg002">KMP</a></li>
					<li><a href="#alg003">ZFunction</a></li>
					<li><a href="#alg0001">shift</a></li>
					<li><a href="#alg0002">sumStrings</a></li>
					<li><a href="#alg0003">Find Count of Most Frequent Item in an Array</a></li>
					<li><a href="#alg0004">Double Cola</a></li>
					<li><a href="#alg0005">Objectify a URL Query String</a></li>
				</ul>
<hr>
                <h2><a name="alg01">binarySearch</a></h2>
<div class="">
        <pre><code class="javascript">
function binarySearch(arr, find) {
  var low = 0, high = arr.length - 1;
  while (low <= high) {
    var i = (low + high) >> 1; //  (low + high)/2
    if (arr[i] < find) { low = i + 1; continue; };
    if (arr[i] > find) { high = i - 1; continue; };
    return i;
  }
  return -1;
};

console.log(binarySearch([1,2,3,4,4,4,5,6,7,8,9,9,11,44,44,44,444,555], 444));
        </code></pre>		
</div>
				<br> 
                <h2><a name="alg02">SubstringSearch</a></h2>
<div class="">
        <pre><code class="javascript">
function SubstringSearch(sub, str)    
{
    var i, j, n = sub.length,
        N = str.length - n + 1;
    
    for (i = 0; i < N; i++)
    {  j = 0;
       while (j < n && sub[j] === str[i+j]) j++;
       if (j === n) return i;
    }                                
    return -1;
}
console.log(SubstringSearch('ips', 'Lorem ipsum'));
        </code></pre>		
</div>
				<br> 
                <h2><a name="alg03">quickSortR</a></h2>
<div class="">
        <pre><code class="javascript">
/* recursion */
function  quickSortR(arr, left, right)
{
	var i = left;
	var j = right;
	var tmp;
	pivotidx = (left + right) / 2; 
	var pivot = parseInt(arr[pivotidx.toFixed()]);  

	while (i <= j)
	{
		while (parseInt(arr[i]) < pivot)i++;
		while (parseInt(arr[j]) > pivot)j--;
		if (i <= j)
		{
			tmp = arr[i];
			arr[i] = arr[j];
			arr[j] = tmp;
			i++;
			j--;
		}
	}
	if (left < j)
		quickSort(arr, left, j);
	if (i < right)
		quickSort(arr, i, right);
	return arr;
}
var array = [8, 2, 5, 7, 4, 3, 12, 6, 19, 11, 10, 13, 9];
console.log(quickSort(array, 0, array.length -1));
        </code></pre>		
</div>
				<br> 
                <h2><a name="alg04">InsertionSort</a></h2>
<div class="">
        <pre><code class="javascript">
function InsertionSort(values) {
  var length = values.length;
  for(var i = 1; i < length; ++i) {
    var temp = values[i];
    var j = i - 1;
    while(j >= 0 && values[j] > temp) {
      values[j+1] = values[j];
      --j;
    }
    values[j+1] = temp;
  }
  return values;
};
console.log(InsertionSort([7, 4, 5, 2, 9, 1]));
        </code></pre>		
</div>

				<br> 
                <h2><a name="alg05">HeapSort</a></h2>
<div class="">
        <pre><code class="javascript">
function swap(data, i, j) {
    var tmp = data[i];
    data[i] = data[j];
    data[j] = tmp;
}
 
 function heap_sort(arr) {
    put_array_in_heap_order(arr);
    end = arr.length - 1;
    while(end > 0) {
        swap(arr, 0, end);
        sift_element_down_heap(arr, 0, end);
        end --;
    }
}
 
function put_array_in_heap_order(arr) {
    var i;
    i = arr.length / 2 - 1;
    i = Math.floor(i);
    while (i >= 0) {
        sift_element_down_heap(arr, i, arr.length);
        i --;
    }
}
 
function sift_element_down_heap(heap, i, max) {
    var i_big, c1, c2;
    while(i < max) {
        i_big = i;
        c1 = 2*i + 1;
        c2 = c1 + 1;
        if (c1 < max && heap[c1] > heap[i_big])
            i_big = c1;
        if (c2 < max && heap[c2] > heap[i_big])
            i_big = c2;
        if (i_big == i) return;
        swap(heap,i, i_big);
        i = i_big;
    }
}
arr = [12, 11, 15, 10, 9, 1, 2, 3, 13, 14, 4, 5, 6, 7, 8,];
heap_sort(arr);
console.log(arr);
        	
        </code></pre>		
</div>
				<br> 
                <h2><a name="alg001">BM</a></h2>
<div class="">
        <pre><code class="javascript">
function BM(S, P) {
    var ret = [];

    var k = P.length - 1, o = {}, l = S.length, i = 0, j, c;
    for (; i < k; i++)
        o[P[i]] = k - i;
    i = 0;
    while (i < l) {
        for (j = k; j >= 0; j--)
            if (P[j] != S[i + j]) {
                break;
            }
        if (j < 0) {
            i++;
            ret.push(i);
        }
        else {
            c = o[S[i + j]];
            if (!c)
                c = k + 1;
            c += j - k;
            if (c <= 0) 
                c = 1;
            i += c;
        }
    }
    return ret;
}

console.log(BM('ABACABADABACABA', 'ABA'));
        </code></pre>		
</div>
				<br> 
                <h2><a name="alg002">KMP</a></h2>
<div class="">
        <pre><code class="javascript">
function PrefFunc(x)
{
    var res = [];
    var i = 0;
    var j = -1;
    res[0] = -1;

    while (i < x.length - 1)
    {
        while ((j >= 0) && (x[j] != x[i])){
            j = res[j];
        }
        i++;
        j++;
        if (x[i] == x[j]){
            res[i] = res[j];
        }else{
            res[i] = j;
        }
    }
    return res;
}

function KMP(x, s)
{
    if (x.length > s.length) return -1;
    var d = PrefFunc(x);
    var i = 0;
    var j=0;
    while (i < s.length)
    {
	while ((j >= 0) && (x[j] != s[i]))
	    j = d[j];
        i++;
        j++;
        if (j == x.length)
            return (i - j);
    }

    return -1;
}

console.log(KMP('abcabdaab', 'acbcabdaababcabvdaababcabdaabcccc'));
        </code></pre>		
</div>

				<br> 
                <h2><a name="alg003">Zfunction</a></h2>
<div class="">
        <pre><code class="javascript">

function ZF(s)
{
    var len = s.length;
    var z = [];
    z[0] = len;
    var l = 0, r = 0;
    var j;

    for (var i = 1; i < len; i++)
    {
        if (i > r)
        {
            for (j = 0; ((j + i) < len) && (s[i + j] == s[j]) ; j++);
            z[i] = j;
            l = i;
            r = (i + j - 1);
        }
        else
        {
            if (z[i - l] < (r - i + 1))
            {
                z[i] = z[i - l];
            }
            else
            {
                for (j = 1; ((j + r) < len) && (s[r + j] == s[r - i + j]); j++);
                z[i] = (r - i + j);
                l = i;
                r = (r + j - 1);
            }
        }
    }
    return z;
}

console.log(ZF('ABRACADABRA'));//ABRACADABRA = 11 0 0 1 0 1 0 4 0 0 1
console.log(ZF('ABACABADABACABA'));//ABACABADABACABA  =  15 0 1 0 3 0 1 0 7 0 1 0 3 0 1

function substringZF(T, P){
    var n = T.length;
    var m = P.length; 
    var zf = ZF(P + '#' + T);
    var res = [];
    for (var i = m+1 ; i < n+m+1; i++)
        if (zf[i] == m) 
            res.push( i-(m+1));
    
    return res;
}
console.log(substringZF('ABACABADABACABA', 'ABA'));
        </code></pre>		
</div>
				<br> 
                <h2><a name="alg0001">Shift</a></h2>
<div class="">
        <pre><code class="javascript">
function shift(arr, move){
    move = -move % arr.length;
    if (move == 0) {
        return arr;
    }
    move = (move < 0) ? arr.length + move : move;
    var result = [],
        index;
    for (var i = 0; i < arr.length; i++) {
        index = (i + move) % arr.length;
        result[i] = arr[index];
    }
    return result;
}
console.log(shift([1,2,3],3));
        </code></pre>		
</div>
				<br> 
                <h2><a name="alg0002">sumStrings</a></h2>
<div class="">
        <pre><code class="javascript">
function sumStrings(a,b) { 
  var remove_zero = function(str){
    str = str.split('');
    while(str.length > 0){
      if(str[0] == '0')
        str.shift();
      else
        break;
    }
    return str.join('');
  };
  a = remove_zero(a).split('');
  b = remove_zero(b).split('');
  var str_t = [];
  var carry = 0;

  while(a.length > 0 || b.length > 0){
    var left = a == '' ? 0 : parseInt(a.pop());
    var right = b == '' ? 0 : parseInt(b.pop());
    var result = left + right + carry;
    str_t.unshift(result % 10);
    result > 9 ? carry = 1 : carry = 0;
  }

  if(carry == 1)
    str_t.unshift(1)

  return str_t.join('');
}
        	
        	
        </code></pre>		
</div>
			<br> 
                <h2><a name="alg0003">Find Count of Most Frequent Item in an Array</a></h2>
<div class="">
                <pre><code class="mbx">
function mostFrequentItemCount(collection) {
  var obj = {};
  for(var i = 0; i < collection.length; i++){
     if(!obj[collection[i]])obj[collection[i]] =0;
     obj[collection[i]] += 1;
  }
  var max =0;
  for(var k in obj){
    if(obj[k] > max)max = obj[k];
  }
  
  return max;
}
                </code></pre>		
</div>
				<br>
                <h2><a name="alg0004">Double Cola</a></h2>
<div class="">
                <pre><code class="mbx">
function whoIsNext(names, r){
  var i = 0;
  var j = 1;
  var k = names.length;
   
  while (i <= r){
      i += k;
      k += k;
      j += j;
  }
  var res = Math.ceil((r - (i - k * 0.5)) / (j * 0.5));
  return names[parseInt(res - 1)]
}
                </code></pre>		
</div>

				<br> 
                <h2><a name="alg0005">Objectify a URL Query String</a></h2>
<div class="">
	<pre><code class="php">
	$arr['data_|_multilanguage_|_en_|_field'] = 23;
	
	foreach ($arr as $outer_key => $outer_value) {
	
	    $parts = explode('_|_', $outer_key);
	
	    $reference =& $arr;
	    $final_key = count($parts) - 1;
	
	    foreach ($parts as $key => $part) {
	
	        if ($final_key != $key) { 
	
	            if (empty($reference[$part])) {
	                $reference[$part] = array();
	            }
	
	            $reference =& $reference[$part];
	
	        } else {
	            $reference[$part] = $outer_value;
	            unset($arr[$outer_key]);
	        }
	    }
	}
	return '<pre>'.print_r($arr,true).'</pre>';
	 </code></pre>		
        <pre><code class="javascript">
function convertQueryToMap(query) {
    if (query === '') return {};

    var assign = function(obj, keyPath, value) {
        var lastKeyIndex = keyPath.length - 1;

        for (var i = 0; i < lastKeyIndex; ++i) {
            var key = keyPath[i];
            if (!(key in obj)) obj[key] = {};
            obj = obj[key];
        }

        obj[keyPath[lastKeyIndex]] = value;
    };

    var objCreate = function(k) {
        var args = k.split('&'),
            cont = {};

        for (var j = 0; j < args.length; j++) {
            var tuple = args[j].split('='),
                names = tuple[0].split('.');
            assign(cont, names, decodeURIComponent(tuple[1]));
        }

        return cont;
    };

    var terms = objCreate(query);
    return terms;
}
var q = 'user.name.firstname=Bob&user.name.lastname=Smith&user.favoritecolor=Light%20Blue',
    out = {
      'user': {
        'name': {
          'firstname': 'Bob',
          'lastname': 'Smith'
        },
        'favoritecolor': 'Light Blue'
      }
    };
assertSimilarObjects(convertQueryToMap(q), out);
        </code></pre>		
</div>
				<br> 
                <h2><a name=""></a></h2>
<div class="">
        <pre><code class="javascript">
        </code></pre>		
</div>
				<br> 
                <h2><a name=""></a></h2>
<div class="">
        <pre><code class="javascript">
        </code></pre>		
</div>
				<br> 
                <h2><a name=""></a></h2>
<div class="">
        <pre><code class="javascript">
        </code></pre>		
</div>
				<br> 
                <h2><a name=""></a></h2>
<div class="">
        <pre><code class="javascript">
        </code></pre>		
</div>


			</div>
		</div>
	</body>
<script>
$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
</script>    
</html>
